# 정의하려는 것이 타입이라면 마커 인터페이스를 사용하라

## 마커 인터페이스
아무 메서드도 담고 있지 않고, 단지 자신을 구현하는 클래스가 특정 속성을 가지는 것을 표시해주는 인터페이스이다.  
`Serializable` 인터페이스가 좋은 예이다.  
`Serializable`은 자신을 구현한 클래스의 인터페이스는 `ObjectOutputStream`을 통해 쓸(write) 수 있다고, 즉 직렬화(Serializable)할 수 있다고 알려 준다.

```java
public interface Serializable {
}
```
## 마커 인터페이스가 마커 애너테이션보다 나은 점
마커 애너테이션(아이템 39)가 등장하면서 마커 인터페이스는 구식이 되었다고하지만, 이는 사실이 아니다.  
마커 인터페이스는 두 가지 면에서 마커 애너테이션보다 낫다.

1. **마커 인터페이스는 이를 구현한 클래스의 인스턴스 들을 구분하는 타입으로 쓸 수 있으나, 마커 애너테이션은 불가능하다.**
    > 마커 인터페이스는 어엿한 타입이기 때문에, 컴파일 시점에 오류를 잡을 수 있다.  
      예를들어 개발자가 인수로 `Serializable` 인터페이스의 구현체를 받아서 직렬화를 해야할 필요가 있다면 매개변수로 아래와 같이 구현할 것이다.  
      write(Serializable s) {...}  
      이 경우 직렬화의 구현체가 아닌 객체는 전달할 수 없고 컴파일 단계에서 에러를 발견할 수 있다.  
      하지만 `Object` 타입으로 인수를 받되 마커 애너테이션으로 직렬화 여부를 판단해야한다면 런타임에야 문제를 확인할 수 있다.
2. **적용 대상을 더 정밀하게 지정할 수 있다.**
    > 마커 애너테이션에서는 적용 대상(`Target`)을 `ElementType.TYPE`으로 지정할 수 있다.  
   > 이는 모든 타입(클래스, 인터페이스, 열거 타입, 애너테이션)에 해당 애너테이션을 달 수 있다는 의미이다. 따라서 더 세밀하게 제한할 수 없다.  
   > 그런데 특정 인터페이스를 구현한 클래스에만 적용하고 싶은 마커가 있을 때, 이 마커를 인터페이스로 정의했다면 마킹하고 싶은 클래스에서만 그 인터페이스를 구현하면 된다.

## 마커 애너테이션이 마커 인터페이스보다 나은 점
- 거대한 애너테이션 시스템의 지원을 받는다.
  > 따라서 애너테이션을 적극 활용하는 프레임워크에서는 마커 애너테이션을 사용하는 것이 일관성을 지키는 데 유리하다.

## 그럼 언제 무엇을 써야하는가?
- 클래스와 인터페이스 외의 프로그램 요소(모듈, 패키지, 필드, 지역변수 등)에 마킹해야 할 때 애너테이션을 쓸 수 밖에 없다.
- 클래스나 인터페이스에 적용해야 한다면 이 객체를 매개변수로 받는 메서드로 쓸 일이 있을 지 고민하자.
  - Yes 라면, 마커 인터페이스를 사용함으로써 컴파일타임에 오류를 잡아낼 수 있다.
  - No 라면, 마커 애너테이션을 선택해 일관성을 지킬 수 있다.

### 참고
- https://catsbi.oopy.io/4678b976-bd7e-4353-b4f0-04c06f66df03